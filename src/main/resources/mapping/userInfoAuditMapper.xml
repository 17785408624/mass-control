<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.example.mapper.UserInfoAuditMapper">

    <select id="selectUserInfoAuditOrganizationByStateAType" resultType="java.util.Map">
     SELECT
     uia.user_info_audit_id,
     uia.user_info_audit_state,
     uia.user_info_audit_addtime,
     uia.user_info_audit_type,
     oi.organization_name,
     oi.organization_code,
     uia.info_id
     FROM
	  user_info_audit AS uia
      LEFT JOIN organization_info oi ON (
	  uia.info_id = oi.organization_info_id
      )
        <choose>
            <when test="user_info_audit_state !=null and user_info_audit_state != '0'.toString()">
            where uia.user_info_audit_state =#{user_info_audit_state}
             <if test="user_info_audit_type !=null and user_info_audit_type !='0'.toString()">
                 and uia.user_info_audit_type=#{user_info_audit_type}
             </if>
            </when>
            <otherwise>
                <if test="user_info_audit_type !=null and user_info_audit_type !='0'.toString()">
                    where uia.user_info_audit_type=#{user_info_audit_type}
                </if>
            </otherwise>
        </choose>
   </select>
    <select id="selectOrganizationInfoEntityFull" resultType="OrganizationInfoEntity">
      select * from organization_info
      where organization_info_id=#{organization_info_id}
    </select>

    <select id="selectOrganizationInfoCareermanFullByOrgInfoId" resultType="OrganizationInfoCareermanEntity">
    select * from organization_info_careerman
    where organization_info_id =#{organization_info_id}

    </select>
    <select id="selectFileInfoeEntityFullByFileId" resultType="FileInfoeEntity">
    select *from file_info
    where file_info_id =#{file_info_id}
    </select>

</mapper>